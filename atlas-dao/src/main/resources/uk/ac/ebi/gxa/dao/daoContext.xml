<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean name="atlasJdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <!-- datasource bean, from JNDI -->
        <property name="dataSource" ref="atlasDataSource"/>
        <property name="nativeJdbcExtractor" ref="nativeJdbcExtractor"/>
    </bean>

    <bean name="atlasDAO" class="uk.ac.ebi.gxa.dao.AtlasDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="arrayDesignDAO"/>
        <constructor-arg ref="assayDAO"/>
        <constructor-arg ref="bioEntityDAO"/>
        <constructor-arg ref="experimentDAO"/>
        <constructor-arg ref="sampleDAO"/>
    </bean>

    <bean name="arrayDesignDAO" class="uk.ac.ebi.gxa.dao.ArrayDesignDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="softwareDAO"/>
    </bean>

    <bean name="assayDAO" class="uk.ac.ebi.gxa.dao.AssayDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="arrayDesignDAO"/>
        <constructor-arg ref="sampleDAO"/>
        <constructor-arg ref="assayPropertyDAO"/>
    </bean>

    <bean name="assayPropertyDAO" class="uk.ac.ebi.gxa.dao.ObjectPropertyDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="propertyValueDAO"/>
    </bean>

    <bean name="assetDAO" class="uk.ac.ebi.gxa.dao.AssetDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
    </bean>

    <bean name="bioEntityDAO" class="uk.ac.ebi.gxa.dao.BioEntityDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="softwareDAO"/>
    </bean>

    <bean name="experimentDAO" class="uk.ac.ebi.gxa.dao.ExperimentDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="assetDAO"/>
        <constructor-arg ref="assayDAO"/>
        <constructor-arg ref="sampleDAO"/>
    </bean>

    <bean name="ontologyDAO" class="uk.ac.ebi.gxa.dao.OntologyDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
    </bean>

    <bean name="ontologyTermDAO" class="uk.ac.ebi.gxa.dao.OntologyTermDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="ontologyDAO"/>
    </bean>

    <bean name="organismDAO" class="uk.ac.ebi.gxa.dao.OrganismDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
    </bean>

    <bean name="propertyDefinitionDAO" class="uk.ac.ebi.gxa.dao.PropertyDefinitionDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
    </bean>

    <bean name="propertyValueDAO" class="uk.ac.ebi.gxa.dao.PropertyValueDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="propertyDefinitionDAO"/>
    </bean>

    <bean name="sampleDAO" class="uk.ac.ebi.gxa.dao.SampleDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="organismDAO"/>
        <constructor-arg ref="samplePropertyDAO"/>
    </bean>

    <bean name="samplePropertyDAO" class="uk.ac.ebi.gxa.dao.ObjectPropertyDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
        <constructor-arg ref="propertyValueDAO"/>
    </bean>

    <bean name="softwareDAO" class="uk.ac.ebi.gxa.dao.SoftwareDAO">
        <constructor-arg ref="atlasJdbcTemplate"/>
    </bean>

</beans>